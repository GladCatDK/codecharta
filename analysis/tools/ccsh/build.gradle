apply plugin: 'application'

mainClassName = 'de.maibornwolff.codecharta.tools.ccsh.Ccsh'
applicationName = 'ccsh'

dependencies {
    implementation project(':import:CodeMaatImporter')
    implementation project(':import:CrococosmoImporter')
    implementation project(':import:CSVImporter')
    implementation project(':import:JasomeImporter')
    implementation project(':import:SCMLogParser')
    implementation project(':import:SonarImporter')
    implementation project(':import:SourceCodeParser')
    implementation project(':import:UnderstandImporter')
    implementation project(':filter:MergeFilter')
    implementation project(':filter:EdgeFilter')
    implementation project(':tools:ValidationTool')
    implementation project(':export:CSVExporter')


    implementation group: 'info.picocli', name: 'picocli', version: picocli_version
}

jar {
    baseName = "${applicationName}"
    manifest {
        attributes 'Main-Class': mainClassName,
                'Implementation-Title': 'CodeCharta ccsh',
                'Implementation-Version': version
    }

    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
}